# /etc/profile for SuSE Linux
#
# PLEASE DO NOT CHANGE /etc/profile. There are chances that your changes
# will be lost during system upgrades. Instead use /etc/profile.local for
# your your local settings, favourite global aliases, VISUAL and EDITOR
# variables, etc ...

#
# This variable is set to avoid double sourcing of this file
#
PROFILEREAD=true

umask 022

# Adjust some size limits (see bash(1))
# Note: You may use /etc/initscript instead to set up ulimits and your PATH.
#
#ulimit -c 20000		# only core-files less than 20 MB are written
#ulimit -d 15000		# max data size of a program is 15 MB
#ulimit -s 15000		# max stack size of a program is 15 MB
#ulimit -m 30000		# max resident set size is 30 MB

ulimit -Sc 0			# don't create core files
ulimit -d unlimited
if [ -z "$KSH_VERSION" ]; then
    # ksh does not support this command.
    ulimit -s unlimited
fi
ulimit -m unlimited


#
# make path more comfortable
#
MACHINE=`test -x /bin/uname && /bin/uname --machine`
PATH=/usr/local/bin:/usr/bin:/usr/X11R6/bin:/bin
for DIR in ~/bin/$MACHINE ~/bin ; do
    test -d $DIR && PATH=$DIR:$PATH
done
#test "$UID" = 0 && PATH=/sbin:/usr/sbin:$PATH
test "$UID" = 0 && PATH=/sbin:/usr/sbin:/usr/local/sbin:$PATH
for DIR in /usr/lib/java/bin \
           /var/lib/dosemu \
           /usr/games/bin \
           /usr/games \
           /opt/bin \
           /opt/gnome/bin \
           /opt/kde2/bin \
           /opt/kde/bin \
	   /usr/openwin/bin ; do
    test -d $DIR && PATH=$PATH:$DIR
done
test "$UID" = 0 || PATH="$PATH:."
export PATH

#
# Set some environment variables
#
if test -n "$TEXINPUTS" ; then
  TEXINPUTS=":$TEXINPUTS:~/.TeX:/usr/share/doc/.TeX:/usr/doc/.TeX"
else
  TEXINPUTS=":~/.TeX:/usr/share/doc/.TeX:/usr/doc/.TeX"
fi
export TEXINPUTS

LESSCHARSET=latin1
LESS="-M -S -I"
LESSKEY=/etc/lesskey.bin
LESSOPEN="lessopen.sh %s"
LESSCLOSE="lessclose.sh %s %s"
export LESSOPEN LESSCLOSE LESSCHARSET LESS LESSKEY

MINICOM="-c on"
export MINICOM

unset MANPATH
MANPATH=`test -x /usr/bin/manpath && /usr/bin/manpath -q`
export MANPATH

#
# Some applications do not handle the XAPPLRESDIR environment properly,
# when it contains more than one directory. More than one directory only
# makes sense if you have a client with /usr mounted via nfs and you want
# to configure applications machine dependent. Uncomment the lines below
# if you want this.
#
#XAPPLRESDIR="$XAPPLRESDIR:/var/X11R6/app-defaults:/usr/X11R6/lib/X11/app-defaults"
#export XAPPLRESDIR

#
# Set INFOPATH to tell xemacs where he can find the info files
#
INFODIR=/usr/local/info:/usr/share/info:/usr/info
INFOPATH=$INFODIR
export INFODIR INFOPATH

#
# These settings are recommended for old motif applications
#
XKEYSYMDB=/usr/X11R6/lib/X11/XKeysymDB
export XKEYSYMDB
XNLSPATH=/usr/X11R6/lib/X11/nls
export XNLSPATH


#HOSTNAME="`hostname`"
#export HOSTNAME
NNTPSERVER=`cat /etc/nntpserver 2> /dev/null`
export NNTPSERVER
# time until a complete key sequence must have arrived
# ESCDELAY=2000
# export ESCDELAY

if [ -d /usr/openwin/lib ] ; then
    OPENWINHOME=/usr/openwin
    export OPENWINHOME
fi

if [ -x /usr/bin/dircolors ] ; then
  #
  # set up the color-ls environment variables:
  #
  if test -f ~/.dir_colors ; then
    eval `dircolors -b ~/.dir_colors`
  elif test -f /etc/DIR_COLORS ; then
    eval `dircolors -b /etc/DIR_COLORS`
  fi
fi

# do not save dupes in the bash history file
HISTCONTROL=ignoredups
export HISTCONTROL

#
# make sure that teTeX is found.
#
if [ -f /usr/lib/teTeX/texmf.cnf ] ; then
    TETEXDIR=/usr/lib/teTeX
    PATH=$PATH:/usr/bin/TeX
    export TETEXDIR PATH
fi


# Further options for the 'ls' command are in /etc/DIR_COLORS.
unalias ls 2>/dev/null
if test "$UID" = 0 ; then
    LS_OPTIONS='-a -N --color=tty -T 0';
else
    LS_OPTIONS='-N --color=tty -T 0';
fi
export LS_OPTIONS
if test -n "$ZSH_VERSION" ; then
    alias ls='eval /bin/ls $LS_OPTIONS'
else
    alias ls='ls $LS_OPTIONS'
fi
alias dir='ls -l'
alias ll='ls -l'
alias la='ls -la'
alias l='ls -alF'
alias ls-l='ls -l'

# Handle emacs
if test "$EMACS" = "t" ; then
    LS_OPTIONS='-N --color=none -T 0';
    tset -I -Q
    stty cooked pass8 dec nl -echo
fi

#
# Set some generic aliases
#
alias o='less'
alias ..='cd ..'
alias ...='cd ../..'
if [ -z "$KSH_VERSION" ]; then
    alias -- +='pushd .'
    alias -- -='popd'
fi
alias rd=rmdir
alias md='mkdir -p'
alias unix2dos='recode lat1..ibmpc'
alias dos2unix='recode ibmpc..lat1'
#alias unzip='unzip -L'
alias which='type -p'
alias rehash='hash -r'
alias beep='echo -en "\x07"'
alias unmount='echo "Error: Try the command: umount"'

#
# Some useful functions
#
function startx { /usr/X11R6/bin/startx $* 2>&1 | tee ~/.X.err ; }
function remount { /bin/mount -o remount,$* ; }

#
# Midnight Commander needs this to run in color mode
#
COLORTERM=1
export COLORTERM

# for rcs
# export VERSION_CONTROL=numbered

PAGER=less
export PAGER

# I had problems using 'eval tset' instead of 'TERM=', but you might want to 
# try it anyway. I think with the right /etc/termcap it would work great.
# eval `SHELL=/bin/sh; tset -sQ "$TERM"`
if [ "$TERM" = "" -o "$TERM" = "unknown" ]; then
 TERM=linux
fi

if test -f /etc/organization ; then
    ORGANIZATION="`cat /etc/organization`"
    export ORGANIZATION
fi


# Practically no serious program needs $TERMCAP, but some 'Slang'-programs can
# get confused with it. If this happens, you might want to unset TERMCAP here.
#unset TERMCAP


#
# Set prompt to something useful
#
#PS1='`hostname`:`pwd`# '
if [ "$SHELL" = "/usr/bin/pdksh" -o "$SHELL" = "/usr/bin/ksh" -o "$SHELL" = "/bin/ksh" ]; then
    PS1="! $ "
elif [ -n "$ZSH_VERSION" ]; then
    # setopt chaselinks
    if test "$UID" = 0; then
        PS1='%n@%m:%~ # '
    else
        PS1='%n@%m:%~ > '
    fi
elif [ "$SHELL" = "/usr/bin/ash" -o "$SHELL" = "/bin/ash" ]; then
    PS1="$ "
elif [ -n "$BASH_VERSION" ] ; then
    # set -P
    set -p
    if test "$UID" = 0 ; then
        PS1="\h:\w # "
    else
        PS1="\u@\h:\w > "
    fi
    # PROMPT_COMMAND='PS1=`if test "$UID" = 0 ; then \
    #         echo "\h:\`pwd -P\` # " ; \
    #     else \
    #         echo "\u@\h:\`pwd -P\` > " ; \
    #     fi `'
    # export PROMPT_COMMAND
else
    PS1='\h:\w \$ '
    #PS1='\u \w \$ '
fi
PS2='> '
ignoreeof=0
export PS1 PS2 ignoreeof
if [ -n "$KSH_VERSION" ]; then
 if [ -r /etc/ksh.kshrc ]; then
  . /etc/ksh.kshrc
 fi
 if [ -r $HOME/.kshrc ]; then
  . $HOME/.kshrc
 fi
fi

#
# Now source the files generated by SuSEconfig
#
test -e /etc/SuSEconfig/profile && . /etc/SuSEconfig/profile

#
# Now source profile extensions for certain packages
#
test -d /etc/profile.d && \
  {
    for s in /etc/profile.d/*.sh ; do
      test -r $s && . $s
    done
  }


# Source some aliases which provide help for DOS users
#test -e /etc/profile.dos && . /etc/profile.dos

#
# And now let's see if there is a local profile
# (for options defined by your sysadmin, not SuSE Linux)
#
test -e /etc/profile.local && . /etc/profile.local

unset DIR

